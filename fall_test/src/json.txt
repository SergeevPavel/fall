nodes {
  null bool number string
  lbrace rbrace
  lbrack rbrack
  comma colon
  object array primitive
  field
  file
}

tokenizer {
  whitespace r"\s+"
  lbrace     "{"
  rbrace     "}"
  lbrack     "["
  rbrack     "]"
  colon      ":"
  comma      ","
  string     r#""[^"]*""#
  number     r"\d+"
  null       "null"
  bool       r"true|false"
}

rule file {
  object | array
}

rule object {
  lbrace <commit>
    object_body
  rbrace
}

rule object_body { <rep field comma> }

rule field {
  string <commit> colon value
}

rule array {
  lbrack <commit>
    <rep value comma>
  rbrack
}

rule value { primitive | object | array }

rule primitive { null | number | string | bool }
